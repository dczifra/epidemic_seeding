<!DOCTYPE HTML>
<html>
<head>
<link rel="shortcut icon" href="#" />
    <title>Metapop H</title>
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">    

    <script src="//code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v4.js"></script>

    <script src="{{ url_for('static', filename = 'socket.js') }}"></script>
    <script src="{{ url_for('static', filename = 'chart.js') }}"></script>
    <script src="{{ url_for('static', filename = 'barplot.js') }}"></script>
    <script src="{{ url_for('static', filename = 'd3-legend.min.js') }}"></script>


<style>
    div.tooltip {	
    position: absolute;			
    text-align: left;			
    padding: 10px;				
    font: 18px sans-serif;		
    background: white;	
    border: 0px;		
    border-radius: 8px;			
    pointer-events: none;			
}
    .ticks {
      font-size: 10px;
    }

    .track,
    .track-inset,
    .track-overlay {
      stroke-linecap: round;
    }

    .track {
      stroke: #000;
      stroke-opacity: 0.3;
      stroke-width: 10px;
    }

    .track-inset {
      stroke: #ddd;
      stroke-width: 8px;
    }

    .track-overlay {
      pointer-events: stroke;
      stroke-width: 50px;
      stroke: transparent;
      cursor: crosshair;
    }

    .handle {
      fill: #fff;
      stroke: #000;
      stroke-opacity: 0.5;
      stroke-width: 1.25px;
    }
    
    #game_board {
        background: url('static/HungaryMap.png') no-repeat;
          background-size: 500px ;
        background-position: center
    }

</style>

    <script type="text/javascript" charset="utf-8">
    </script>
</head>
<body>


    <div id="gameDiv">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-3">
						    <h3 class="text-center">
				              Choose parameters!</h3><br>
				              
				        <div id="graphParamDiv">				
				              <div class="form-group">
				                <label for="graph_type">
				                  graph:</label>
				                <select id="graph_type" class="selectpicker pull-right">
								    <option value="K">K</option>
								    <option value="K_shuffle_edges">K shuffle edges</option>
                                    <option value="grid">Grid</option>
								    <option value="2grids">2 Grids</option>
								    <option value="torus">Torus</option>
                                    <option value="line">Line</option>
								    <option value="random-regular">Random regular graph</option>
								    <option value="random-geometric">Random geometric graph</option>
								    <option value="pref_attachment">Preferential attachment</option>
								    <option value="config_model">Configuration model</option>
								    <option value="megye">Megye + real data</option>
								</select><br>
				              </div>

				              
				            <div class="form-group">
				                <label for="n_nodes">
				                  n_nodes:</label>
				                <input type="text" id="n_nodes" class="pull-right" value="100">
				            </div>

							<div class="form-group">
				                <label for="N_population">
				                  N_population:</label>
				                <input type="text" id="N_population" class="pull-right" value="10000">
				            </div>

							<div class="form-group">
				                <label for="d_degree">
				                  d_degree:</label>
				                <input type="text" id="d_degree" class="pull-right" value="4">
				            </div>
				            
				            <button class="btn btn-primary btn-block loadButton">Load graph</button>				              
				        </div>
						<div id="paramDiv" style="display:none;">				

							 <div class="form-group">
				                <label for="model_type">
				                  model:</label>
				                <select id="model_type" class="selectpicker pull-right">
								    <option value="nodebased">Node-based</option>
								    <option value="metapop">Metapop</option>
								</select><br>
				              </div>

							<div class="form-group">
				                <label for="num_iterations">
				                  num_iterations:</label>
				                <input type="text" id="num_iterations" class="pull-right" value="100">
				            </div>

							<div class="form-group">
				                <label for="s0">
				                  num_init_inf:</label>
				                <input type="text" id="s0" class="pull-right" value="10">
				            </div>					

							<div class="form-group">
				                <label for="beta">
				                  beta:</label>
				                <input type="text" id="beta" class="pull-right" value="0.6">
				            </div>
				            
				            <div class="form-group">
				                <label for="beta_super">
				                  beta_super:</label>
				                <input type="text" id="beta_super" class="pull-right" value="1">
				            </div>


							<div class="form-group">
				                <label for="sigma">
				                  sigma:</label>
				                <input type="text" id="sigma" class="pull-right" value="0">
				            </div>

							<div class="form-group">
				                <label for="gamma">
				                  gamma:</label>
				                <input type="text" id="gamma" class="pull-right" value="0.3">
				            </div>

							<div class="form-group">
				                <label for="xi">
				                  xi:</label>
				                <input type="text" id="xi" class="pull-right" value="1">
				            </div>


							<div class="form-group">
				                <label for="MOVING_WILLINGNESS">
				                  p_movingw:</label>
				                <input type="text" id="MOVING_WILLINGNESS" class="pull-right" value="0.1">
				            </div>

							<div class="form-group">
				                <label for="p_worker">
				                  p_worker:</label>
				                <input type="text" id="p_worker" class="pull-right" value="0">
				            </div>

							<div class="form-group">
				                <label for="p_teleport">
				                  p_teleport:</label>
				                <input type="text" id="p_teleport" class="pull-right" value="0">
				            </div>
				              
							<div class="form-group">
				                <label for="p_super">
				                  p_super:</label>
				                <input type="text" id="p_super" class="pull-right" value="0">
				            </div>

							<div class="form-group">
				                <label for="aw_m">
				                  aw_m:</label>
				                <input type="text" id="aw_m" class="pull-right" value="0">
				            </div>

							<div class="form-group">
				                <label for="aw_r">
				                  aw_r:</label>
				                <input type="text" id="aw_r" class="pull-right" value="0">
				            </div>
				            
				              <button class="btn btn-primary btn-block unloadButton">Unload graph</button>
				              <button class="btn btn-primary btn-block loadSimButton">Load simulation</button>
				              <button class="btn btn-primary btn-block simButton">Simulate</button>

                     </div>
					<div id="fileDiv" style="display:none;">				
				              <input type="file" id="file-input" />
				              <button class="btn btn-primary btn-block unloadButton">Unload graph</button>
                     </div>

					<div id="saveDiv" style="display:none;">
					          <br>				
							  <button class="btn btn-primary btn-block compAwButton">Compute awareness info</button>
				              <button class="btn btn-primary btn-block saveButton">Save</button>
                     </div>



				        </div>

						
						<div class="col-md-5">
						<br>
							<button class="btn btn-primary" id="playButton">Play</button>
							<button class="btn btn-primary rulesButton">Help</button>
							<button class="btn btn-primary "  id="fitButton">Autozoom</button>
							
						    <div id="slider"></div>
						    <div id="game_board"></div>
						</div>
						<div class="col-md-4" >
							 <div class="form-group">
							 	<label for="node_plot_type">
				                  node plot type:</label>
				                <select id="node_plot_type" class="selectpicker pull-right">
								    <option value="d_SIR">SIR</option>
								    <option value="d_seed">seed_SIR</option>
								    <option value="b_distance_bfs">seed_distance_bfs</option>
								    <option value="b_distance_l2">seed_distance_l2</option>
								    <option value="d_aw">awareness</option>
								</select><br>
				              </div>
				              
				              <div class="form-group">
				                <label for="p_super">
				                  pause_time:</label>
				                <input type="text" id="pause_time" class="pull-right" value="200">
                            </div>
				              <div class="form-group">
                                <label for="xScale">
				                  xScale:</label>
				                <input type="text" id="xScale" class="pull-right" value="75">
                              </div>

						
							<b> Aggregated plot: </b>
							<div id='chart-container' style="max-width: 1000px;" display="block"></div>
							<b> Awareness plot: </b>
							<div id='aw-chart-container' style="max-width: 1000px;" display="block"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
    </div>


    
      <!-- Modal -->
  <div class="modal fade" id="rules" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Information Manual</h4>
		</div>
        <div class= "modal-body">
        Here comes the help.
        </div>
        
        <div id="modal-body-switch" style="padding:10px;text-align:center" >
        <button type="button" class="btn btn-primary" id='doneRulesModal'>OK</button>

        </div>
      </div>
      
    </div>
  </div>


  <div class="modal fade" id="waitbox" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Simulating</h4>
		</div>
        <div class= "modal-body" id="waitperc">
        0%
        </div>
      </div>
      
    </div>
  </div>

    
</body>
</html>
